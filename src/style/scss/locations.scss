/* partials */
@use './partials/reset';
@use './partials/variables';
@use './partials/colours';
@use './partials/mixins';
@use './partials/global';

.location-hero {
    width: 100%;
    height: min(calc(100vh - variables.$fixed_header_height), variables.$max_location_hero_height);
    background-color: colours.$keikogi_blue;
    color: var(--inverse-text);
    position: relative;
    z-index: 1;

    &::before {
        content: "";
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        // see location modifier for background-image
        background-color: var(--secondary-bg);
        background-repeat: no-repeat;
        background-position: center;
        background-size: cover;
        z-index: -1;
    }

    &::after {
        content: "";
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        background: color-mix(in srgb, var(--secondary-bg) 45%, transparent);
        z-index: -1;
    }

    article {
        padding-top: 2.5rem;
        padding-bottom: 2.5rem;
        @include mixins.flex($direction: column, $justify: flex-end, $align: flex-end);
    }
}

.location-hero--vancouver {
    &::before {
        background-image: url("../../assets/img/locations_vancouver.jpg");
    }
}

.location-hero--seattle {
    &::before {
        background-image: url("../../assets/img/locations_seattle.jpg");
    }
}

.location-hero--portland {
    &::before {
        background-image: url("../../assets/img/locations_portland.jpg");
    }
}

// TODO: other location hero images

.location-hero__text {
    h1 {
        text-align: right;
        font-weight: 900;
        font-size: 2.5rem;
    }
}

.location-summary {
    position: relative;
    z-index: 10;
    @include mixins.flex($direction: column, $justify: flex-start, $gap: 2rem);

    &.page-wrapper {
        padding-top: 2.5rem;
        padding-bottom: 2.5rem;
    }

    h2,
    h3 {
        @include mixins.flex($gap: 0.375rem, $justify: flex-start);
        @include mixins.heading(h6);
        font-weight: 700;
    }

    h2 {
        margin-bottom: 0.5em;

        .icon {
            height: 1.25em;
        }
    }
}

.location-summary__summary {
    width: 100%;
    @include mixins.flex($direction: column, $justify: flex-start, $align: flex-start, $gap: 2rem);
}

.location-summary__instructor-location {
    width: 100%;
    display: grid;
    grid-template-columns: auto 1fr 1fr;
    gap: 1rem;

    .headshot {
        --headshot-border: 0.5rem;

        border: var(--headshot-border) solid var(--primary-bg);
        position: relative;
        margin-top: -4.5rem;
        margin-left: calc(var(--headshot-border) * -1);
    }
}

// .location-summary__instructor {
//     @include mixins.heading(h2);
//     line-height: 1;
// }

.schedule {
    width: 100%;

    h4 {
        color: color-mix(in srgb, var(--primary-text) 60%, transparent);
        font-size: 0.625rem;
        margin-top: 0.5rem;
    }
}

.schedule__week {
    display: grid;
    grid-template-columns: repeat(7, auto);
    gap: 1rem;
}

.schedule__day {
    p {
        color: var(--pop-text);

        &.no-class {
            color: var(--extra-subtle-text);
            font-style: italic;
        }
    }
}

.cost-disciplines {
    width: 100%;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
}

.location-summary__bio {
    width: 100%;
    display: grid;
    grid-template-columns: 1fr auto;
    gap: 2rem;
}

.photos {
    @include mixins.flex($direction: column, $justify: flex-start, $gap: 1rem);
}

.photo {
    width: 35vw;
    min-width: 8rem;
    max-width: 20rem;
    height: auto;
    aspect-ratio: 4.5 / 3;
    flex-shrink: 0;
    border-radius: 0.125rem;

    border: 1px solid var(--borders);

    img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center;
    }
}

.location-summary__seniors {
    @include mixins.flex($direction: column, $align: flex-start, $justify: flex-start);
}

.seniors {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 2rem;
}

.senior {
    @include mixins.flex($justify: flex-start);
    column-gap: 1rem;
    row-gap: 0.5rem;
    flex-wrap: wrap;
    align-content: flex-start;

    >p {
        width: 100%;
    }
}

.headshot {
    width: 5rem;
    height: auto;
    aspect-ratio: 1 / 1;
    border-radius: 50%;
    overflow: hidden;
    object-fit: cover;
    object-position: center;
}

.headshot--instructor {
    width: 14rem;
}